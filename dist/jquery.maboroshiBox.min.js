/*!
 *  jQury.maboroshiBox.js
 *  MIT-style license.
 *  2014 maboroshi, inc.
 */
!function(a){"use strict";var b=function(b,c){this.el=b,this.$el=a(this.el),this.options=c,this.$target=a(this.$el.attr("href")).addClass("maboroshiBox-modal"),this.init(),this.createCloseButton(),this.addEvent()};b.prototype={init:function(){this.$bgLayer=a('<div class="maboroshiBox-bgLayer"/>').appendTo("body")},createCloseButton:function(){this.closeButton=a('<span class="'+this.options.closeClassName+'">閉じる</span>')},addEvent:function(){var a=this;a.$el.on("click",function(b){a.open(b)}),a.$bgLayer.on("click",function(){a.close()}),a.closeButton.on("click",function(){a.close()})},open:function(a){return a.preventDefault(),this.$bgLayer.fadeIn("fast"),this.$target.append(this.closeButton).fadeIn("fast"),!1},close:function(){this.$target.fadeOut("fast"),this.$bgLayer.fadeOut("slow")}},a.fn.maboroshiBox=function(c){return c=a.extend({},a.fn.maboroshiBox.defaults,c),this.each(function(a,d){new b(d,c)})},a.fn.maboroshiBox.defaults={type:null,closeClassName:"maboroshi-closeButton"}}(jQuery,this);