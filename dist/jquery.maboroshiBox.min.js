/*!
 *  jQury.maboroshiBox.js
 *  MIT-style license.
 *  2014 maboroshi, inc.
 */
!function(a,b){"use strict";var c=function(b,c){this.el=b,this.$el=a(this.el),this.options=c,this.$target=a(this.$el.attr("href")).addClass("maboroshiBox-modal"),this.init(),this.createCloseButton(),this.addEvent()};c.prototype={init:function(){this.$bgLayer=a('<div class="maboroshiBox-bgLayer"/>').appendTo("body")},createCloseButton:function(){this.closeButton=a(this.options.closeHtml)},addEvent:function(){var a=this;a.$el.on("click",function(b){a.open(b)}),a.$bgLayer.on("click",function(){a.close()}),a.closeButton.on("click",function(){a.close()})},open:function(a){return a.preventDefault(),this.$bgLayer.fadeIn("fast"),this.$target.css("top",this.getTop()).append(this.closeButton).fadeIn("fast"),!1},close:function(){this.$target.fadeOut("fast"),this.$bgLayer.fadeOut("slow")},getTop:function(){var c=a(b).height(),d=this.$target.height();return(c-d)/2}},a.fn.maboroshiBox=function(b){return b=a.extend({},a.fn.maboroshiBox.defaults,b),this.each(function(a,d){new c(d,b)})},a.fn.maboroshiBox.defaults={type:null,closeHtml:'<span class="maboroshi-closeButton">閉じる</span>'}}(jQuery,this);